class Utils{static formatDate(e,t="YYYY-MM-DD"){var e=new Date(e),r=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0"),e=String(e.getSeconds()).padStart(2,"0");return t.replace("YYYY",r).replace("MM",a).replace("DD",n).replace("HH",o).replace("mm",s).replace("ss",e)}static getTimeDifference(e,t=new Date){e=new Date(e).getTime(),t=new Date(t).getTime(),t=Math.max(0,t-e);return{days:Math.floor(t/864e5),hours:Math.floor(t%864e5/36e5),minutes:Math.floor(t%36e5/6e4),seconds:Math.floor(t%6e4/1e3)}}static async processImage(a){return new Promise((t,r)=>{var e;CONFIG.VALIDATION.ALLOWED_IMAGE_TYPES.includes(a.type)?a.size>CONFIG.VALIDATION.MAX_FILE_SIZE?r(new Error("文件大小超出限制")):((e=new FileReader).onload=e=>t(e.target.result),e.onerror=e=>r(e),e.readAsDataURL(a)):r(new Error("不支持的文件类型"))})}static debounce(t,r){let a;return function(...e){clearTimeout(a),a=setTimeout(()=>{clearTimeout(a),t(...e)},r)}}static throttle(t,r){let a;return function(...e){a||(t(...e),a=!0,setTimeout(()=>a=!1,r))}}static truncate(e,t){return e.length<=t?e:e.slice(0,t)+"..."}static createElement(e,t,r=""){e=document.createElement(e);return t&&(e.className=t),r&&(e.innerHTML=r),e}static async animate(e,t,r){return e.animate(t,{duration:CONFIG.ANIMATION.DURATION.MEDIUM,easing:CONFIG.ANIMATION.EASING.DEFAULT,...r}).finished}static handleError(e,t=!1){console.error(e),t||UIManager.showToast(e.message||"操作失败","error")}static storage={set(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return this.handleError(e),!1}},get(e,t=null){try{var r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return this.handleError(e),t}},remove(e){localStorage.removeItem(e)},clear(){localStorage.clear()}}}